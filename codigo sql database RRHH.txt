use proyecto_final_rrhh; 

-- CREACION DE LA TABLA EMPLEADOS -- 
drop table if exists empleados;
CREATE TABLE IF NOT EXISTS empleados (
    ID_EMPLEADO INT AUTO_INCREMENT,
    LEGAJO_EMPLEADO INTEGER,
    NOMBRE_APELLIDO TEXT,
    DNI INT,
    CARGO VARCHAR(30),
    SUELDO_BASICO INTEGER,
    ID_SUPERVISOR INT,
    PRIMARY KEY (ID_EMPLEADO, LEGAJO_EMPLEADO, DNI),
    FOREIGN KEY (ID_SUPERVISOR) REFERENCES supervisores(ID_SUPERVISOR)
);

-- CREACION DE LA TABLA ANTIGUEDAD_LABORAL -- 
drop table if exists antiguedad_laboral;
CREATE TABLE IF NOT EXISTS antiguedad_laboral (
    ID INT AUTO_INCREMENT PRIMARY KEY, 
    INICIO DATE,
    ID_EMPLEADO INT,
    LEGAJO_EMPLEADO INTEGER,
    DNI INT,
    FOREIGN KEY (ID_EMPLEADO, LEGAJO_EMPLEADO, DNI) REFERENCES empleados(ID_EMPLEADO, LEGAJO_EMPLEADO, DNI)
);

-- CREACION DE LA TABLA SUPERVISORES -- 

drop table if exists supervisores;

CREATE TABLE IF NOT EXISTS SUPERVISORES  (
ID_SUPERVISOR INT AUTO_INCREMENT, 
LEGAJO_SUPERVISOR INTEGER,
DNI INT,
NOMBRE_APELLIDO VARCHAR (30),
SUELDO_BASICO INTEGER,
ID_SECTOR INT, 
PRIMARY KEY (ID_SUPERVISOR, LEGAJO_SUPERVISOR, DNI),
FOREIGN KEY (ID_SECTOR) REFERENCES sectores(ID_SECTOR) 
);

ALTER TABLE SUPERVISORES
ADD COLUMN ID_SECTOR INT; /* AQUI AGREGUE UNA COLUMNA QUE ME OLVIDE */

drop table if exists sectores; 

create table if not exists sectores (
ID_SECTOR INT AUTO_INCREMENT PRIMARY KEY, 
SECTOR TEXT,
ID_DEPARTAMENTO INT,
FOREIGN KEY (ID_DEPARTAMENTO) REFERENCES departamentos(ID_DEPARTAMENTO)
); 

ALTER TABLE sectores 
ADD COLUMN ID_DEPARTAMENTO INT; /* AQUI AGREGUE UNA COLUMNA QUE ME OLVIDE  */

drop table if exists departamentos;
create table if not exists departamentos ( 
ID_DEPARTAMENTO INT AUTO_INCREMENT PRIMARY KEY,
DEPARTAMENTO TEXT, 
CORREO VARCHAR (30),
TELEFONO VARCHAR (30)
);    
